# Список слов
words = ['каша', 'тетрадь', 'шкура', 'подушка', 'лилия',
         'дверь', 'ручка', 'рубашка', 'бутылка', 'скатерть',
         'портфель', 'кофе', 'шкаф', 'динозавр', 'пенал',
         'карандаш', 'ластик', 'журнал', 'переулок', 'ковёр',
         'небо', 'море', 'солнце', 'тело', 'ведро',
         'меню', 'запястье', 'какао', 'кино', 'радио']
# Русский алфавит
alphabet = 'абвгдеёжзийклмнопрстуфхцчшщъыьэюя'
# Приветственное сообщение и список команд
print("Привет! Игра 'Поле чудес'. Вводи буквы или слово.")
print("Команды: /help /used /left /exit")
# Основной цикл игры — перебираем все слова
for word in words:
    hidden = ['*'] * len(word)  # Заменяем все буквы в слове на *
    used, tries = '', 0         # used — использованные буквы, tries — количество попыток
    print("\nНовое слово!")
    # Цикл продолжается, пока есть неотгаданные буквы
    while '*' in hidden:
        print("Слово:", ''.join(hidden))  # Показываем текущее состояние слова
        guess = input("Ввод: ").lower().strip()  # Получаем ввод игрока
        tries += 1  # Считаем попытку
        # Обработка команд (начинаются с '/')
        if guess.startswith('/'):
            cmd = guess  # Сохраняем команду в переменную cmd
            if cmd == '/help':
                print("\n--- Правила игры ---")
                print("1. Я загадываю слово, ты должен его отгадать.")
                print("2. Можно вводить по одной букве или сразу всё слово.")
                print("3. Если буква есть в слове — она откроется.")
                print("4. Если буквы нет — будет сообщение об ошибке.")
                print("5. Использованные буквы можно посмотреть с помощью /used.")
                print("6. Оставшиеся буквы можно посмотреть через /left.")
                print("7. Команды начинаются с '/'. Например: /help, /exit.")
                print("8. После отгадывания слова ты можешь продолжить или выйти.\n")
            elif cmd == '/used':
                print("Использованные:", ', '.join(sorted(used)))  # Показать использованные буквы
            elif cmd == '/left':
                # Показать оставшиеся буквы из алфавита, которые ещё не использовались
                print("Остались:", ''.join([b for b in alphabet if b not in used]))
            elif cmd == '/exit':
                print("До свидания!")  # Завершение игры
                exit()
            else:
                print("Неизвестная команда.")  # Если введена неизвестная команда
            continue  # Возврат к следующей итерации
        # Если игрок ввёл слово (больше 1 буквы)
        if len(guess) > 1:
            if guess == word:  # Угадал слово полностью
                hidden = list(word)  # Открываем все буквы
                break
            else:
                print("Неверное слово.")  # Ввёл неправильное слово
                continue
        # Проверка на корректную букву (одна русская буква)
        if len(guess) != 1 or guess not in alphabet:
            print("Одна буква, русская.")  # Сообщаем об ошибке
            continue
        # Если буква уже вводилась
        if guess in used:
            print("Буква уже была.")  # Предупреждаем об этом
            continue
        used += guess  # Добавляем букву в список использованных
        # Проверяем, есть ли такая буква в загаданном слове
        if guess in word:
            for i in range(len(word)):
                if word[i] == guess:
                    hidden[i] = guess  # Открываем буквы в слове
            print("Есть такая буква!")
        else:
            print("Такой буквы нет.")  # Буквы нет в слове
    # Если игрок угадал слово
    print(f"\nУгадано! Слово: {word} | Попыток: {tries}")
    # Спрашиваем, хочет ли игрок продолжать игру
    if input("Продолжить? (да/нет): ").lower() != 'да':
        print("Спасибо за игру!")  # Завершаем, если игрок сказал "нет"
        break
